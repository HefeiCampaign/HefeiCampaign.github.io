import{a as B}from"./chunk-YJKYTPLH.js";import{B as k,C as S,E as c,F as g,G as U,H as L,I as m,J as H,K as T,N as A,O,P as W,R as z,S as J,U as Q,W as X,_ as Y,a as v,b as P,c as K,d as I,e as q,f as y,g as b,h as _,i as M,k as C,n as a,o as V,p as $,q as x,r as f,s as G,t as D,u as R,v as j,w as s,x as l,y as N}from"./chunk-HJJTXHFR.js";function Z(n,t){let i=!t?.manualCleanup?t?.injector?.get(M)??y(M):null,o=te(t?.equal),r;t?.requireSync?r=C({kind:0},{equal:o}):r=C({kind:1,value:t?.initialValue},{equal:o});let u,w=n.subscribe({next:d=>r.set({kind:1,value:d}),error:d=>{r.set({kind:2,error:d}),u?.()},complete:()=>{u?.()}});if(t?.requireSync&&r().kind===0)throw new I(601,!1);return u=i?.onDestroy(w.unsubscribe.bind(w)),A(()=>{let d=r();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new I(601,!1)}},{equal:t?.equal})}function te(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}var h={bg:"#ffffff",titleColor:"#111827",textColor:"#111827",buttonBg:"rgba(217, 217, 217, 0.4)",buttonText:"#111827",secondaryButtonBg:"#374151",secondaryButtonText:"#111827"},p={bg:"#0f0f10",titleColor:"#F5F5F6",textColor:"#D1D5DB",buttonBg:"rgba(217, 217, 217, 0.4)",buttonText:"#ffffff",secondaryButtonBg:"#374151",secondaryButtonText:"#ffffff"},ne={bg:"rgba(188, 172, 146, 1)",titleColor:"#0f0f10",textColor:"#0f0f10",buttonBg:"#0f0f10",buttonText:"#ffffff",secondaryButtonBg:"#374151",secondaryButtonText:"#ffffff"},ie={bg:" rgba(133, 157, 194, 1)",titleColor:"#0f0f10",textColor:"#0f0f10",buttonBg:"#ffffff",buttonText:"#0f0f10",secondaryButtonBg:"#0f0f10",secondaryButtonText:"#ffffff"};var F={scene1:{id:"scene1",title:"(\u4F60\u7D04\u4E86\u4E00\u4F4D\u670B\u53CBA\u5728\u9152\u5427\u898B\u9762\uFF0C\u5F9E\u97F3\u6A02\u5230\u4EBA\u751F\uFF0C\u4F60\u5011\u6709\u8A31\u591A\u5171\u540C\u8A71\u984C\uFF0C\u4E00\u8DEF\u66A2\u804A\u5230\u6DF1\u591C)",imgSrc:"./img/18.png",imgAlt:"\u9152\u5427\u804A\u5929",theme:p,contentStyle:"max-height: 70px;",content:[{type:"p",style:"friend",text:"\u3010A\u3011\uFF1A\u4ECA\u5929\u771F\u7684\u804A\u5F97\u8D85\u958B\u5FC3\uFF01"},{type:"p",style:"you",text:"\u3010\u4F60\u3011\uFF1A\u54C8\u54C8\u597D\u4E45\u6C92\u9019\u9EBC\u653E\u9B06\u3002"},{type:"p",style:"friend",text:"A\uFF1A\u6B38\u9084\u662F\u5F85\u6703\u53BB\u6211\u5BB6\u7E8C\u6524\u554A\uFF1F"},{type:"p",style:"you",text:"(\u5169\u500B\u4EBA\u804A\u8457\u804A\u8457\u5C31\u804A\u5230\u4E86\u5E8A\u4E0A)"},{type:"p",style:"you",text:"\u4F60\uFF1A\u6B38\u7B49\u4E00\u4E0B...\u4F60\u6709\u5E36\u5957\u55CE\uFF1F"},{type:"p",style:"friend",text:"A\uFF1A\u6C92\u6709\u6B38\u2026\u4E0D\u7136\u9019\u6B21\u5C31\u81EA\u7136\u4E00\u9EDE\uFF1F\u90FD\u9019\u9EBC\u719F\u4E86\uFF0C\u61C9\u8A72\u9084\u597D\u5427..."}],postChoiceRoute:{branches:[{to:"scene2",weight:10,variantKey:"v10"},{to:"scene2",weight:20,variantKey:"v20"},{to:"scene3",weight:70}]},options:[{label:"\u9084\u662F\u7528\u4E00\u4E0B\u6BD4\u8F03\u5B89\u5FC3\uFF0C\u4FDD\u8B77\u63AA\u65BD\u5F88\u91CD\u8981\u3002",next:"scene3"},{label:"\u55EF\u2026\u53CD\u6B63\u5F88\u719F\u4E86\uFF0C\u90A3\u5C31\u9806\u5176\u81EA\u7136\u5427\u3002",next:"scene3"}]},scene2:{id:"scene2",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u9152\u7CBE\u4E0A\u982D",imgSrc:"./img/6.jpg",imgAlt:"\u9152\u7CBE\u4E0A\u982D",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u60F3\u5805\u6301\u4F7F\u7528\u4FDD\u96AA\u63AA\u65BD\uFF0C\u4F46\u9152\u7CBE\u958B\u59CB\u4E0A\u982D\uFF0C\u8166\u888B\u4E00\u9663\u6688\u7729\u3002"},{type:"p",style:"narration",text:"\u4F60\u773C\u524D\u4E00\u9ED1\uFF0C\u4E00\u5207\u5C31\u9019\u6A23\u767C\u751F\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene3"},variants:[{key:"v10",overrides:{imgSrc:"./img/6.jpg",content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u60F3\u5805\u6301\u4F7F\u7528\u4FDD\u96AA\u63AA\u65BD\uFF0C\u4F46\u9152\u7CBE\u958B\u59CB\u4E0A\u982D\uFF0C\u8166\u888B\u4E00\u9663\u6688\u7729\u3002"},{type:"p",style:"system",text:"\u4F60\u773C\u524D\u4E00\u9ED1\uFF0C\u4E00\u5207\u5C31\u9019\u6A23\u767C\u751F\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/6.jpg",content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u60F3\u5805\u6301\u4F7F\u7528\u4FDD\u96AA\u63AA\u65BD\uFF0C\u4F46\u9152\u7CBE\u958B\u59CB\u4E0A\u982D\uFF0C\u8166\u888B\u4E00\u9663\u6688\u7729\u3002"},{type:"p",style:"system",text:"\u4F60\u773C\u524D\u4E00\u9ED1\uFF0C\u4E00\u5207\u5C31\u9019\u6A23\u767C\u751F\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene3:{id:"scene3",title:"\uFF08\u4E0D\u4E45\u5F8C\uFF0C\u4F60\u518D\u6B21\u8207 A \u767C\u751F\u95DC\u4FC2\u6642\uFF0C\u767C\u73FE\u4FDD\u96AA\u5957\u7834\u4E86\uFF09",imgSrc:"./img/20.png",imgAlt:"\u4FDD\u96AA\u5957\u7834",theme:p,content:[{type:"p",style:"narration",text:"\uFF1A\u5594\u6211\u8EAB\u9AD4\u8D85\u52C7\u7684\uFF0C\u6C92\u95DC\u4FC2\u5566\uFF5E"},{type:"p",style:"narration",text:"\uFF08\u4F60\u5FC3\u60F3\uFF1A\u771F\u7684\u6C92\u4E8B\u55CE\uFF1F\u6211\u8A72\u600E\u9EBC\u8FA6\uFF1F\uFF09"}],postChoiceRoute:{branches:[{to:"scene4",weight:10,variantKey:"v10"},{to:"scene4",weight:20,variantKey:"v20"},{to:"scene5",weight:70}]},options:[{label:"\u6211\u9084\u662F\u60F3\u53BB\u8AEE\u8A62\u4E00\u4E0B\u66B4\u9732\u5F8C\u9810\u9632\uFF08PEP\uFF09\u8A72\u600E\u9EBC\u8655\u7406\uFF0C\u6709\u9EDE\u64D4\u5FC3\u3002",next:"scene5"},{label:"\u4ED6\u770B\u8D77\u4F86\u4E5F\u4E0D\u50CF\u6709\u554F\u984C\u2026\u5C31\u7B97\u4E86\u5427\u3002",next:"scene5"}]},scene4:{id:"scene4",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u8CC7\u8A0A\u832B\u832B",imgSrc:"./img/11.png",imgAlt:"\u8CC7\u8A0A\u832B\u832B",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\u8A66\u8457\u67E5\u66B4\u9732\u5F8C\u7684\u9810\u9632\u8CC7\u8A0A\uFF0C\u767C\u73FE\u7BE9\u6AA2\u7AD9\u3001\u91AB\u9662\u7B49\u8CC7\u8A0A\u5168\u90FD\u6563\u843D\u5728\u5404\u500B\u7DB2\u9801\u3002"},{type:"p",style:"system",text:"\u4F60\u982D\u4E00\u75DB\uFF0C\u5FC3\u60F3\uFF1A\u300C\u597D\u9EBB\u7169\u5594...\u54CEA\u8AAA\u4ED6\u5F88\u5065\u5EB7\uFF0C\u61C9\u8A72\u6C92\u4E8B\u5427\u2026\u300D"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene5"},variants:[{key:"v10",overrides:{imgSrc:"./img/11.png",content:[{type:"p",style:"narration",text:"\u4F60\u8A66\u8457\u67E5\u4E86\u4E00\u4E0B\u66B4\u9732\u5F8C\u9810\u9632\u8CC7\u8A0A\uFF0C\u767C\u73FE\u7BE9\u6AA2\u7AD9\u3001\u91AB\u9662\u3001\u8CC7\u8A0A\u832B\u832B\u6563\u843D\u5728\u5404\u500B\u7DB2\u9801\uFF0C\u611F\u89BA\u5F88\u9EBB\u7169\u3002"},{type:"p",style:"system",text:"\u4F60\u982D\u4E00\u75DB\uFF0C\u5FC3\u60F3\uFF1A\u300CA \u8AAA\u4ED6\u5F88\u5065\u5EB7\uFF0C\u61C9\u8A72\u4E5F\u6C92\u4E8B\u5427\u2026\u300D"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/11.png",content:[{type:"p",style:"narration",text:"\u4F60\u8A66\u8457\u67E5\u4E86\u4E00\u4E0B\u66B4\u9732\u5F8C\u9810\u9632\u8CC7\u8A0A\uFF0C\u767C\u73FE\u7BE9\u6AA2\u7AD9\u3001\u91AB\u9662\u3001\u8CC7\u8A0A\u832B\u832B\u6563\u843D\u5728\u5404\u500B\u7DB2\u9801\uFF0C\u611F\u89BA\u5F88\u9EBB\u7169\u3002"},{type:"p",style:"system",text:"\u4F60\u982D\u4E00\u75DB\uFF0C\u5FC3\u60F3\uFF1A\u300CA \u8AAA\u4ED6\u5F88\u5065\u5EB7\uFF0C\u61C9\u8A72\u4E5F\u6C92\u4E8B\u5427\u2026\u300D"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene5:{id:"scene5",title:"(\u670B\u53CB\u807D\u8AAA\u4F60\u6700\u8FD1\u60F3\u6253\u8033\u6D1E\uFF0C\u544A\u8A34\u4F60\u4E00\u9593\u8D85\u4FBF\u5B9C\u7684\u5DE5\u4F5C\u5BA4)",imgSrc:"./img/5.jpg",imgAlt:"\u670B\u53CB\u63A8\u85A6\u7684\u5DE5\u4F5C\u5BA4",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\uFF1A\u9019\u662F\u54EA\u4E00\u5BB6\u554A\uFF1F\u6709\u8A8D\u8B49\u55CE\uFF1F"},{type:"p",style:"narration",text:"\uFF1A\u4E0D\u77E5\u9053\u6B38...\u4F46\u6211\u540C\u4E8B\u6709\u6253\u904E\uFF0C\u597D\u50CF\u4E5F\u6C92\u600E\u6A23\uFF01\u4E0D\u7528\u6015\u5566\uFF01"}],postChoiceRoute:{branches:[{to:"scene6",weight:10,variantKey:"v10"},{to:"scene6",weight:20,variantKey:"v20"},{to:"scene7",weight:70}]},options:[{label:"\u300C\u6211\u9084\u662F\u53BB\u627E\u6709\u8A8D\u8B49\u7684\u6BD4\u8F03\u5B89\u5FC3\u3002\u300D",next:"scene7"},{label:"\u300C\u597D\u5566\u53CD\u6B63\u53EA\u662F\u500B\u8033\u6D1E\uFF0C\u6C92\u5DEE\u5566\u3002\u300D",next:"scene7"}]},scene6:{id:"scene6",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u534A\u63A8\u534A\u5C31",imgSrc:"./img/13.png",imgAlt:"\u534A\u63A8\u534A\u5C31",theme:h,content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u60F3\u627E\u6709\u8A8D\u8B49\u7684\u5E97\u5BB6\uFF0C\u4F46\u4ECA\u5929\u525B\u597D\u53EA\u6709\u9019\u5BB6\u6709\u7A7A\u6A94\uFF0C\u5176\u4ED6\u90FD\u8981\u9810\u7D04\u3002"},{type:"p",style:"narration",text:"\u5728\u670B\u53CB\u7684\u50AC\u4FC3\u4E0B\uFF0C\u4F60\u534A\u63A8\u534A\u5C31\u5730\u53BB\u90A3\u9593\u670B\u53CB\u63A8\u85A6\u8D85\u4FBF\u5B9C\u7684\u5DE5\u4F5C\u5BA4\u6253\u4E86\u8033\u6D1E\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene7"},variants:[{key:"v10",overrides:{imgSrc:"./img/13.png",content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u60F3\u627E\u6709\u8A8D\u8B49\u7684\u5E97\u5BB6\uFF0C\u4F46\u4ECA\u5929\u525B\u597D\u53EA\u6709\u9019\u5BB6\u6709\u7A7A\u6A94\uFF0C\u5176\u4ED6\u90FD\u8981\u9810\u7D04\u3002"},{type:"p",style:"narration",text:"\u5728\u670B\u53CB\u7684\u50AC\u4FC3\u4E0B\uFF0C\u4F60\u534A\u63A8\u534A\u5C31\u5730\u53BB\u4E86\u4FBF\u5B9C\u7684\u5DE5\u4F5C\u5BA4\u6253\u4E86\u8033\u6D1E\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/13.png",content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u60F3\u627E\u6709\u8A8D\u8B49\u7684\u5E97\u5BB6\uFF0C\u4F46\u4ECA\u5929\u525B\u597D\u53EA\u6709\u9019\u5BB6\u6709\u7A7A\u6A94\uFF0C\u5176\u4ED6\u90FD\u8981\u9810\u7D04\u3002"},{type:"p",style:"narration",text:"\u5728\u670B\u53CB\u7684\u50AC\u4FC3\u4E0B\uFF0C\u4F60\u534A\u63A8\u534A\u5C31\u5730\u53BB\u4E86\u4FBF\u5B9C\u7684\u5DE5\u4F5C\u5BA4\u6253\u4E86\u8033\u6D1E\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene7:{id:"scene7",title:"",imgSrc:"./img/14.png",imgAlt:"\u52F8\u52C9\u7684\u8A71",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\u958B\u59CB\u610F\u8B58\u5230\uFF1A"},{type:"p",style:"narration",text:"\u300C\u98A8\u96AA\u300D\u5176\u5BE6\u85CF\u5728\u8A31\u591A\u751F\u6D3B\u9078\u64C7\u88E1\uFF01"},{type:"p",style:"narration",text:"\u9664\u4E86\u77AD\u89E3\u6B63\u78BA\u7684\u6C7A\u5B9A\u4E4B\u5916\uFF0C"},{type:"p",style:"narration",text:"\u9084\u8981\u80FD\u5805\u5B9A\u7684\u5BE6\u8E10\uFF0C"},{type:"p",style:"narration",text:"\u624D\u80FD\u8B93\u81EA\u5DF1\u6D3B\u5F97\u66F4\u5B89\u5FC3\u3002"}],cta:{label:"\u7E7C\u7E8C",next:"scene8"}},scene8:{id:"scene8",title:"(\u56DE\u5BB6\u5F8C\uFF0C\u4F60\u5728\u624B\u6A5F\u4E0A\u770B\u5230\u4E86\u96FB\u5546\u4E0A\u533F\u540D\u5FEB\u7BE9\u5546\u54C1\u7684\u5EE3\u544A)\u300C\u4E09\u5206\u9418\u51FA\u7D50\u679C\uFF01\u5FEB\u901F\u533F\u540D\u81EA\u7BE9\u5305\uFF0C\u5B85\u914D\u5230\u4F60\u5BB6\uFF01\u300D",imgSrc:"./img/8.jpg",theme:h,imgAlt:"\u96FB\u5546\u5EE3\u544A",content:[{type:"p",style:"narration",text:"\uFF08\u6B38\u6709\u533F\u540D\u81EA\u7BE9\u8036\uFF0C\u4E09\u5206\u9418\u5C31\u53EF\u4EE5\u51FA\u7D50\u679C\uFF0C\u9019\u6A23\u4E5F\u592A\u65B9\u4FBF\u4E86\u5427\uFF01\u597D\u50CF\u9084\u4E0D\u932F\u6B38...\uFF09"},{type:"p",style:"narration",text:"\u6B38...\u53EF\u662F\u2026\u9019\u6A23\u53EF\u9760\u55CE\uFF1F"}],postChoiceRoute:{branches:[{to:"scene9",weight:10,variantKey:"v10"},{to:"scene9",weight:20,variantKey:"v20"},{to:"scene10",weight:70}]},options:[{label:"\u5148\u67E5\u4E00\u4E0B\u6B63\u898F\u7DB2\u7AD9\u597D\u4E86\uFF0C\u4E0D\u8981\u96A8\u4FBF\u8A66\u3002",next:"scene10"},{label:"\u8D8A\u5FEB\u77E5\u9053\u7576\u7136\u8D8A\u597D\uFF0C\u624B\u5200\u4E0B\u55AE\uFF01",next:"scene10"}]},scene9:{id:"scene9",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u8CAA\u5C0F\u4FBF\u5B9C",imgSrc:"./img/12.png",imgAlt:"\u8CAA\u5C0F\u4FBF\u5B9C",theme:h,content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u6253\u7B97\u67E5\u6B63\u898F\u8CC7\u8A0A\uFF0C\u4F46\u767C\u73FE\u9019\u6B3E\u5FEB\u7BE9\u5305\u9650\u6642\u7279\u50F9\uFF0C\u9084\u9001\u7B2C\u4E8C\u652F\uFF0C\u5FC3\u60F3\uFF1A\u300C\u5FEB\u7BE9\u90FD\u5DEE\u4E0D\u591A\u5566\uFF0C\u9019\u5BB6\u9084\u9019\u9EBC\u5212\u7B97\uFF01\u300D"},{type:"p",style:"narration",text:"\u4F60\u4E00\u6642\u8CAA\u5C0F\u4FBF\u5B9C\uFF0C\u7ACB\u523B\u5C31\u4E0B\u55AE\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene10"},variants:[{key:"v10",overrides:{imgSrc:"./img/12.png",content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u6253\u7B97\u67E5\u6B63\u898F\u8CC7\u8A0A\uFF0C\u4F46\u767C\u73FE\u9019\u6B3E\u5FEB\u7BE9\u5305\u9650\u6642\u7279\u50F9\uFF0C\u9084\u9001\u7B2C\u4E8C\u652F\uFF0C\u5FC3\u60F3\uFF1A\u300C\u5FEB\u7BE9\u90FD\u5DEE\u4E0D\u591A\u5566\uFF0C\u9019\u5BB6\u9084\u9019\u9EBC\u5212\u7B97\uFF01\u300D"},{type:"p",style:"narration",text:"\u4F60\u4E00\u6642\u8CAA\u5C0F\u4FBF\u5B9C\uFF0C\u7ACB\u523B\u5C31\u4E0B\u55AE\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/12.png",content:[{type:"p",style:"narration",text:"\u4F60\u539F\u672C\u6253\u7B97\u67E5\u6B63\u898F\u8CC7\u8A0A\uFF0C\u4F46\u767C\u73FE\u9019\u6B3E\u5FEB\u7BE9\u5305\u9650\u6642\u7279\u50F9\uFF0C\u9084\u9001\u7B2C\u4E8C\u652F\uFF0C\u5FC3\u60F3\uFF1A\u300C\u5FEB\u7BE9\u90FD\u5DEE\u4E0D\u591A\u5566\uFF0C\u9019\u5BB6\u9084\u9019\u9EBC\u5212\u7B97\uFF01\u300D"},{type:"p",style:"narration",text:"\u4F60\u4E00\u6642\u8CAA\u5C0F\u4FBF\u5B9C\uFF0C\u7ACB\u523B\u5C31\u4E0B\u55AE\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene10:{id:"scene10",title:"(\u4F60\u7E7C\u7E8C\u6ED1\u624B\u6A5F\uFF0C\u53C8\u770B\u5230\u670B\u53CBB\u5728\u9650\u6642\u52D5\u614B\u5206\u4EAB\u4E86\u4E00\u5247\u8CBC\u6587)",imgSrc:"./img/2.jpg",imgAlt:"\u670B\u53CB\u9080\u8ACB\u7BE9\u6AA2",theme:ne,content:[{type:"p",style:"narration",text:"\uFF08\u5C31\u5728\u6211\u5BB6\u9644\u8FD1\u6B38\uFF01\u4F46\u6211\u9019\u6A23\u7684\u4EBA\u9700\u8981\u53BB\u55CE\uFF1F\u6703\u4E0D\u6703\u5F88\u602A\u554A\uFF1F\u800C\u4E14\u9084\u8981\u51FA\u9580...\u597D\u61F6\u5594\u2026\uFF09"}],postChoiceRoute:{branches:[{to:"scene11",weight:10,variantKey:"v10"},{to:"scene11",weight:20,variantKey:"v20"},{to:"scene12",weight:70}]},options:[{label:"\u53BB\u770B\u770B\u4E5F\u597D\uFF0C\u6AA2\u67E5\u4E00\u4E0B\u6BD4\u8F03\u653E\u5FC3\u3002",next:"scene12"},{label:"\u7B97\u4E86\u5566\uFF0C\u6211\u61C9\u8A72\u6C92\u4EC0\u9EBC\u98A8\u96AA\u3002",next:"scene12"}]},scene11:{id:"scene11",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u6C99\u767C\u99AC\u9234\u85AF",imgSrc:"./img/4.jpg",imgAlt:"\u6C99\u767C\u99AC\u9234\u85AF",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\u672C\u4F86\u5DF2\u7D93\u6E96\u5099\u8981\u51FA\u9580\uFF0C\u5916\u5957\u90FD\u62FF\u5728\u624B\u4E0A\u4E86\uFF0C\u7D50\u679C\u624B\u6A5F\u901A\u77E5\u4F60\u6700\u611B\u7684\u5F71\u96C6\u66F4\u65B0\u4E86\u3002"},{type:"p",style:"narration",text:"\u4F60\u4E00\u5C41\u80A1\u5750\u56DE\u6C99\u767C\uFF1A\u300C\u4ECA\u5929\u7B97\u4E86\uFF0C\u4E0B\u6B21\u518D\u8AAA\u5427\u2026\u300D\u7136\u5F8C\u4E00\u6574\u5929\u5C31\u9019\u6A23\u904E\u53BB\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene12"},variants:[{key:"v10",overrides:{imgSrc:"./img/4.jpg",content:[{type:"p",style:"narration",text:"\u4F60\u672C\u4F86\u5DF2\u7D93\u6E96\u5099\u8981\u51FA\u9580\uFF0C\u5916\u5957\u90FD\u62FF\u5728\u624B\u4E0A\u4E86\uFF0C\u4F46\u6B63\u597D\u624B\u6A5F\u4E0A\u8DF3\u51FA\u4E86\u4F60\u6700\u611B\u7684\u5F71\u96C6\u66F4\u65B0\u3002"},{type:"p",style:"narration",text:"\u4F60\u4E00\u5C41\u80A1\u5750\u56DE\u6C99\u767C\uFF1A\u300C\u4ECA\u5929\u7B97\u4E86\uFF0C\u4E0B\u6B21\u518D\u8AAA\u597D\u5427\u2026\u300D\uFF0C\u7136\u5F8C\u4E00\u6574\u5929\u5C31\u9019\u6A23\u904E\u53BB\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/4.jpg",content:[{type:"p",style:"narration",text:"\u4F60\u672C\u4F86\u5DF2\u7D93\u6E96\u5099\u8981\u51FA\u9580\uFF0C\u5916\u5957\u90FD\u62FF\u5728\u624B\u4E0A\u4E86\uFF0C\u4F46\u6B63\u597D\u624B\u6A5F\u4E0A\u8DF3\u51FA\u4E86\u4F60\u6700\u611B\u7684\u5F71\u96C6\u66F4\u65B0\u3002"},{type:"p",style:"narration",text:"\u4F60\u4E00\u5C41\u80A1\u5750\u56DE\u6C99\u767C\uFF1A\u300C\u4ECA\u5929\u7B97\u4E86\uFF0C\u4E0B\u6B21\u518D\u8AAA\u597D\u5427\u2026\u300D\uFF0C\u7136\u5F8C\u4E00\u6574\u5929\u5C31\u9019\u6A23\u904E\u53BB\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene12:{id:"scene12",title:"(\u4E0D\u4E45\u5F8C\uFF0C\u670B\u53CBB\u50B3\u8A0A\u606F\u7D66\u4F60)",imgSrc:"./img/1.jpg",imgAlt:"\u8A0A\u606F\u5C0D\u8A71",theme:h,content:[{type:"p",style:"narration",text:"(\u5982\u679C\u966A\u4ED6\u53BB\u7136\u5F8C\u88AB\u5225\u4EBA\u770B\u5230\u4E86\uFF0C\u6703\u4E0D\u6703\u88AB\u7576\u6210\u6211\u4E5F\u2026\u8981\u53BB\uFF1F\uFF09"}],postChoiceRoute:{branches:[{to:"scene13",weight:10,variantKey:"v10"},{to:"scene13",weight:20,variantKey:"v20"},{to:"scene14",weight:70}]},options:[{label:"\u7576\u7136\u597D\uFF0C\u6211\u525B\u597D\u4E5F\u60F3\u53BB\u505A\uFF01",next:"scene14"},{label:"\u597D\u5566\u2026\u6709\u9EDE\u6015\u88AB\u60F3\u592A\u591A\uFF0C\u4F46\u6211\u9084\u662F\u966A\u4F60\u53BB\u3002",next:"scene14"},{label:"\u5443\u2026\u9019\u7A2E\u4E8B\u9084\u662F\u81EA\u5DF1\u53BB\u6BD4\u8F03\u597D\u5427\u3002",next:"scene14"}]},scene13:{id:"scene13",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u4E0D\u597D\u7684\u56DE\u61B6",imgSrc:"./img/15.png",imgAlt:"\u4E0D\u597D\u7684\u56DE\u61B6",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\u60F3\u8D77\u9AD8\u4E2D\u6642\uFF0C\u53EA\u662F\u548C\u4E00\u4F4D\u7537\u540C\u5B78\u8D70\u5F97\u6BD4\u8F03\u8FD1\uFF0C\u7D50\u679C\u6574\u500B\u73ED\u90FD\u958B\u59CB\u5728\u80CC\u5F8C\u4E82\u50B3\u300C\u4F60\u662F\u4E0D\u662F\u559C\u6B61\u4ED6\u300D\u3001\u300C\u662F\u4E0D\u662FGay\u300D\u2026\u90A3\u4EFD\u88AB\u5632\u7B11\u7684\u56DE\u61B6\u53C8\u6E67\u4E0A\u5FC3\u982D\u3002"},{type:"p",style:"narration",text:"\u4F60\u63E1\u7DCA\u624B\u6A5F\uFF0C\u611F\u5230\u7336\u8C6B\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene14"},variants:[{key:"v10",overrides:{imgSrc:"./img/15.png",content:[{type:"p",style:"narration",text:"\u4F60\u60F3\u8D77\u9AD8\u4E2D\u6642\uFF0C\u4F60\u53EA\u662F\u548C\u4E00\u4F4D\u7537\u540C\u5B78\u8D70\u5F97\u6BD4\u8F03\u8FD1\uFF0C\u7D50\u679C\u6574\u500B\u73ED\u90FD\u958B\u59CB\u80CC\u5F8C\u4E82\u50B3\u3002"},{type:"p",style:"narration",text:"\u90A3\u4EFD\u88AB\u5632\u7B11\u7684\u56DE\u61B6\u53C8\u6E67\u4E0A\u5FC3\u982D\uFF0C\u4F60\u63E1\u7DCA\u624B\u81C2\uFF0C\u611F\u5230\u7336\u8C6B\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/15.png",content:[{type:"p",style:"narration",text:"\u4F60\u60F3\u8D77\u9AD8\u4E2D\u6642\u7684\u4E00\u6BB5\u50B3\u8A00\u5E36\u4F86\u7684\u9670\u5F71\uFF0C\u7E3D\u8B93\u4F60\u5728\u9019\u985E\u8B70\u984C\u524D\u9000\u7E2E\u3002"},{type:"p",style:"narration",text:"\u56DE\u61B6\u518D\u6B21\u6D6E\u73FE\uFF0C\u4F60\u7684\u8173\u6B65\u8B8A\u5F97\u6C89\u91CD\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene14:{id:"scene14",title:"",imgSrc:"./img/16.png",imgAlt:"\u52F8\u52C9\u7684\u8A71",theme:h,content:[{type:"p",style:"narration",text:"\u7BE9\u6AA2\u9019\u4EF6\u4E8B\u7E3D\u662F\u88AB\u6211\u5011\u4E00\u518D\u64F1\u7F6E\uFF0C\u751F\u6D3B\u5FD9\u788C\u3001\u8CC7\u8A0A\u7E41\u96DC\u6216\u5BB3\u6015\u7570\u6A23\u7684\u773C\u5149\uFF0C\u6211\u5011\u7E3D\u6709\u5404\u7A2E\u7406\u7531\u62D6\u5EF6\u3002"},{type:"p",style:"narration",text:"\u4F46\u5065\u5EB7\u4E0D\u662F\u6191\u611F\u89BA\uFF0C\u4E5F\u4E0D\u80FD\u9760\u904B\u6C23\uFF01\u843D\u5BE6\u7BE9\u6AA2\u624D\u662F\u4FDD\u8B77\u81EA\u5DF1\u8207\u91CD\u8981\u4ED6\u4EBA\u6700\u597D\u7684\u65B9\u5F0F\u3002"}],cta:{label:"\u7E7C\u7E8C",next:"scene15"}},scene15:{id:"scene15",title:"(\u6578\u5929\u5F8C\uFF0C\u670B\u53CBB\u7D04\u4F60\u51FA\u4F86\u5403\u98EF\uFF0C\u773C\u795E\u88E1\u537B\u5E36\u6709\u5E7E\u5206\u9072\u7591)",imgSrc:"./img/9.png",imgAlt:"\u8207\u670B\u53CB\u5403\u98EF",theme:p,content:[{type:"p",style:"narration",text:"\uFF1A\u6211\u6709\u4EF6\u4E8B\u60F3\u8DDF\u4F60\u8AAA\u2026\u5176\u5BE6\u6211\u4E0A\u9031\u88AB\u8A3A\u65B7\u51FA HIV \u967D\u6027\u4E86\u3002"},{type:"p",style:"narration",text:"(\u4F60\u770B\u5411\u624B\u4E2D\u7684\u83DC\u55AE)"}],postChoiceRoute:{branches:[{to:"scene16",weight:10,variantKey:"v10"},{to:"scene16",weight:20,variantKey:"v20"},{to:"scene18",weight:70}]},options:[{label:"\u6211\u5011\u9084\u662F\u9EDE\u4F60\u6700\u611B\u7684\u9EBB\u8FA3\u934B\u5427\uFF01\u6C92\u4E8B\u5566\uFF5E\u4E0D\u7528\u64D4\u5FC3\u3002",next:"scene18"},{label:"\u90A3\u2026\u6211\u5011\u6539\u9EDE\u9D1B\u9D26\u934B\u597D\u55CE\uFF1F\u9019\u6A23\u4F60\u4E5F\u6BD4\u8F03\u5B89\u5FC3\u3002",next:"scene18"},{label:"\u6B38\u6211\u2026\u6211\u597D\u50CF\u7A81\u7136\u6C92\u90A3\u9EBC\u9913\u4E86\uFF0C\u4E0D\u7136\u6211\u5011\u6539\u5929\u518D\u7D04\u597D\u4E86\u3002",next:"scene18"}]},scene16:{id:"scene16",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u672A\u77E5\u7684\u6050\u61FC",imgSrc:"./img/19.png",imgAlt:"\u672A\u77E5\u7684\u6050\u61FC",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\u770B\u8457\u83DC\u55AE\uFF0C\u8166\u4E2D\u7A81\u7136\u9583\u904E\u4E00\u500B\u5FF5\u982D\uFF1A \u300C\u9019\u6A23\u2026\u4E0D\u6703\u88AB\u50B3\u67D3\u5427\uFF1F\u300D"},{type:"p",style:"narration",text:"\u96D6\u7136\u4F60\u4E0D\u78BA\u5B9A\uFF0C\u4F46\u5C0D\u672A\u77E5\u7684\u6050\u61FC\u6539\u8B8A\u4E86\u4F60\u7684\u884C\u52D5\uFF0C\u4E5F\u7121\u610F\u9593\u523A\u50B7\u4E86\u670B\u53CB\u7684\u5FC3\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene17"},variants:[{key:"v10",overrides:{imgSrc:"./img/19.png",content:[{type:"p",style:"narration",text:"\u4F60\u770B\u8457\u83DC\u55AE\uFF0C\u8166\u4E2D\u7A81\u7136\u9583\u904E\u4E00\u500B\u5FF5\u982D\uFF1A \u300C\u9019\u6A23\u2026\u4E0D\u6703\u88AB\u50B3\u67D3\u5427\uFF1F\u300D"},{type:"p",style:"narration",text:"\u6050\u61FC\u8B93\u4F60\u4E0B\u610F\u8B58\u9000\u7E2E\uFF0C\u6C23\u6C1B\u4E5F\u6084\u6084\u8B8A\u5F97\u5C37\u5C2C\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/19.png",content:[{type:"p",style:"narration",text:"\u4F60\u770B\u8457\u83DC\u55AE\uFF0C\u8D8A\u60F3\u8D8A\u4E0D\u5B89\uFF0C\u8166\u4E2D\u5145\u6EFF\u5404\u7A2E\u6700\u7CDF\u7684\u60C5\u5883\u3002"},{type:"p",style:"narration",text:"\u4F60\u8A71\u8B8A\u5C11\u4E86\uFF0C\u4E5F\u628A\u8DDD\u96E2\u62C9\u9060\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene17:{id:"scene17",title:"(\u670B\u53CBB\u7E7C\u7E8C\u544A\u8A34\u4F60\u4ED6\u7684\u7169\u60F1)",imgSrc:"./img/7.jpg",imgAlt:"\u670B\u53CB\u7684\u7169\u60F1",theme:p,content:[{type:"p",style:"narration",text:"\uFF1A\u6211\u5176\u5BE6\u5728\u63A5\u53D7\u6CBB\u7642\uFF0C\u4F46\u8AAA\u5BE6\u8A71\uFF0C\u6211\u5F88\u6015\u4F60\u6703\u4E0D\u60F3\u518D\u8DDF\u6211\u7576\u670B\u53CB\u2026"},{type:"p",style:"narration",text:"(\u4F60\u5FC3\u4E2D\u6E67\u8D77\u8907\u96DC\u60C5\u7DD2\u2014\u2014\u9A5A\u8A1D\u3001\u81EA\u8CAC\u3001\u4E0D\u77E5\u6240\u63AA...)"}],postChoiceRoute:{branches:[{to:"scene18",weight:10,variantKey:"v10"},{to:"scene18",weight:20,variantKey:"v20"},{to:"scene19",weight:70}]},options:[{label:"\u6211\u807D\u8AAA\u904E\u53EA\u8981\u6301\u7E8C\u6CBB\u7642\uFF0C\u75C5\u6BD2\u91CF\u4E0D\u53EF\u6E2C\u5F8C\uFF0C\u5C31\u4E0D\u5177\u50B3\u67D3\u529B\u4E86\uFF0C\u4E0D\u6703\u56E0\u70BA\u9019\u4E8B\u9060\u96E2\u4F60\u3002",next:"scene19"},{label:"\u6211\u652F\u6301\u4F60\uFF0C\u53EA\u662F\u6709\u9EDE\u9700\u8981\u6642\u9593\u9069\u61C9\u3002",next:"scene19"},{label:"\u5C0D\u4E0D\u8D77\u2026\u6211\u53EF\u80FD\u6C92\u8FA6\u6CD5\u50CF\u4EE5\u524D\u4E00\u6A23\u9762\u5C0D\u4F60\u3002",next:"scene19"}]},scene18:{id:"scene18",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u5ABD\u5ABD\u7684\u8A71",imgSrc:"./img/10.png",imgAlt:"\u5ABD\u5ABD\u7684\u8A71",theme:ie,content:[{type:"p",style:"narration",text:"\u4F60\u672C\u60F3\u5B89\u6170\u670B\u53CB\uFF0C\u537B\u7A81\u7136\u60F3\u8D77\u5ABD\u5ABD\u4EE5\u524D\u8B1B\u904E\u7684\u8A71"},{type:"p",style:"narration",text:"\u90A3\u53E5\u8A71\u50CF\u91D8\u5B50\u4E00\u6A23\u5361\u5728\u8166\u4E2D\uFF0C\u8B93\u4F60\u7A81\u7136\u8A9E\u585E\uFF0C\u4E0D\u77E5\u600E\u9EBC\u56DE\u61C9\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene19"}},scene19:{id:"scene19",title:"(\u9694\u5929\uFF0C\u4F60\u6ED1\u793E\u7FA4\u6642\u770B\u898B\u4E00\u5247\u71B1\u9580\u7559\u8A00)",imgSrc:"./img/3.jpg",imgAlt:"\u793E\u7FA4\u7559\u8A00",theme:h,content:[{type:"p",style:"narration",text:"\u5E95\u4E0B\u6709\u4E00\u5806\u7B11\u81C9\u8868\u60C5\uFF0C\u751A\u81F3\u6709\u4EBA\u6A19\u8A18\u4E86\u670B\u53CBB\u3002"},{type:"p",style:"narration",text:"\u4F60\u505C\u4E86\u4E0B\u4F86\uFF0C\u6C7A\u5B9A..."}],postChoiceRoute:{branches:[{to:"scene20",weight:10,variantKey:"v10"},{to:"scene20",weight:20,variantKey:"v20"},{to:"scene21",weight:70}]},options:[{label:"\u7559\u8A00\u7CFE\u6B63\u932F\u8AA4\u8CC7\u8A0A\uFF0C\u4E5F\u9806\u4FBF\u5206\u4EAB\u6B63\u78BA\u89C0\u5FF5\u3002",next:"scene21"},{label:"\u5148\u4E0D\u8981\u7BA1\u597D\u4E86\uFF0C\u9019\u7A2E\u7DB2\u8DEF\u767C\u8A00\u5F88\u7CDF\u591A\u3002",next:"scene21"},{label:"\u5475\u5475\uFF0C\u8AAA\u7684\u6C92\u932F\uFF0C\u8F49\u767C\u4E00\u4E0B\u597D\u4E86\u3002",next:"scene21"}]},scene20:{id:"scene20",title:"\u300A\u7A81\u767C\u4E8B\u4EF6\u300B\u6C89\u9ED8\u87BA\u65CB",imgSrc:"./img/17.png",imgAlt:"\u6C89\u9ED8\u87BA\u65CB",theme:p,content:[{type:"p",style:"narration",text:"\u4F60\u672C\u4F86\u60F3\u7559\u8A00\u53CD\u99C1\uFF0C\u4F46\u770B\u5230\u5E95\u4E0B\u4E00\u5927\u5806\u5632\u7B11\u7684\u7559\u8A00\uFF0C\u5BB3\u6015\u81EA\u5DF1\u4E5F\u88AB\u653B\u64CA\u3002"},{type:"p",style:"narration",text:"\u4F60\u6C89\u9ED8\u4E86\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}],cta:{label:"\u7E7C\u7E8C",next:"scene21"},variants:[{key:"v10",overrides:{imgSrc:"./img/17.png",content:[{type:"p",style:"narration",text:"\u4F60\u6ED1\u904E\u66F4\u591A\u9178\u8A00\u9178\u8A9E\uFF0C\u8166\u4E2D\u53EA\u5269\u4E0B\u8981\u4E0D\u8981\u88DD\u4F5C\u6C92\u770B\u5230\u3002"},{type:"p",style:"narration",text:"\u4F60\u6700\u5F8C\u95DC\u4E0A\u624B\u6A5F\uFF0C\u4EC0\u9EBC\u4E5F\u6C92\u8AAA\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}},{key:"v20",overrides:{imgSrc:"./img/21.png",content:[{type:"p",style:"narration",text:"\u4F60\u60F3\u5230\u82E5\u767C\u8072\u53EF\u80FD\u4E5F\u6703\u88AB\u8CBC\u6A19\u7C64\uFF0C\u80F8\u53E3\u4E00\u7DCA\u3002"},{type:"p",style:"narration",text:"\u4F60\u628A\u756B\u9762\u6ED1\u8D70\uFF0C\u8B93\u6C89\u9ED8\u541E\u6C92\u4E86\u4F60\u3002"},{type:"p",style:"system",text:"\u{1F449} \u98A8\u96AA\u5347\u7D1A"}]}}]},scene21:{id:"scene21",title:"",imgSrc:"./img/6.jpg",imgAlt:"\u52F8\u52C9\u7684\u8A71",theme:h,content:[{type:"p",style:"narration",text:"\u6709\u4E00\u7FA4\u4EBA\u6B63\u9ED8\u9ED8\u627F\u53D7\u770B\u4E0D\u898B\u7684\u8CA0\u64D4\uFF0C\u800C\u7576\u6211\u5011\u653E\u4E0B\u504F\u898B\uFF0C\u6BCF\u4E00\u4EFD\u7406\u89E3\u8207\u5305\u5BB9\uFF0C\u90FD\u80FD\u8B93\u4E16\u754C\u8B8A\u5F97\u66F4\u6EAB\u67D4\u4E00\u4E9B\u3002"}],cta:{label:"\u7E7C\u7E8C",next:"ending-good"}}};var E=class n{currentId=C("start");variantMap=new Map;history=["start"];player=y(B);currentNode=A(()=>{let t=this.currentId(),e=F[t];if(!e)return null;let i=this.variantMap.get(t);if(!i||!e.variants?.length)return e;let o=e.variants.find(r=>r.key===i);return o?v(v({},e),o.overrides):e});goTo(t,e){if(!F[t]){console.warn(`\u672A\u77E5\u7BC0\u9EDE: ${t}`);return}e&&this.variantMap.set(t,e),this.currentId.set(t),this.history.push(e?`${t}#${e}`:t)}choose(t){let e=this.currentNode();if(e?.postChoiceRoute?.branches?.length){let i=e.postChoiceRoute.branches;try{if(this.player.getDisableIncidents&&this.player.getDisableIncidents()){let r=i.filter(u=>!u.variantKey);r.length&&(i=r)}}catch{}let o=re(i);this.goTo(o.to,o.variantKey);return}this.goTo(t.next)}getHistory(){return[...this.history]}reset(){this.currentId.set("start"),this.variantMap.clear(),this.history=["start"]}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function re(n){let t=n.reduce((i,o)=>i+Math.max(0,o.weight),0),e=Math.random()*t;for(let i of n)if(e-=Math.max(0,i.weight),e<0)return i;return n[n.length-1]}function ae(n,t){if(n&1&&m(0),n&2){let e=c();T(" ",e.title," ")}}function se(n,t){if(n&1&&N(0,"img",5),n&2){let e=c();j("ngSrc",e.imgSrc)("alt",e.imgAlt||"")}}function le(n,t){if(n&1&&(s(0,"p",11),m(1),l()),n&2){let e=t.$implicit,i=c(),o=c();g("color",i.theme==null?null:i.theme.textColor),U("text-left",e.style==="friend")("text-right",e.style==="you"),j("ngClass",o.blockClass(e)),a(),H(e.text)}}function ce(n,t){if(n&1){let e=k();s(0,"button",13),S("click",function(){let o=b(e),r=o.$implicit,u=o.$index,w=c(3);return _(w.onPick(u,r))}),m(1),l()}if(n&2){let e=t.$implicit,i=t.$index,o=c(2);g("background-color",o.theme==null?null:o.theme.buttonBg)("color",o.theme==null?null:o.theme.buttonText),$("aria-label","\u9078\u9805 "+(i+1)+"\uFF1A"+e.label),a(),T(" ",e.label," ")}}function pe(n,t){if(n&1&&(s(0,"div",8),D(1,ce,2,6,"button",12,G),l()),n&2){let e=c();a(),R(e.options)}}function me(n,t){if(n&1){let e=k();s(0,"div",14)(1,"button",13),S("click",function(){let o=b(e),r=c(3);return _(r.goCta(o))}),m(2),l()()}if(n&2){let e=c(2);a(),g("background-color",e.theme==null?null:e.theme.buttonBg)("color",e.theme==null?null:e.theme.buttonText),a(),T(" ",t.label," ")}}function ye(n,t){if(n&1&&x(0,me,3,5,"div",14),n&2){let e,i=c();f((e=i.cta)?0:-1,e)}}function ge(n,t){if(n&1){let e=k();s(0,"div",10)(1,"p"),m(2,"\u611F\u8B1D\u904A\u73A9 \u{1F389}"),l(),s(3,"button",15),S("click",function(){b(e);let o=c(2);return _(o.learnMore())}),m(4," \u9EDE\u64CA\u4E86\u89E3\u66F4\u591A"),N(5,"br"),m(6,"Let's Talk U=U\uFF01 "),l(),s(7,"button",15),S("click",function(){b(e);let o=c(2);return _(o.sharePage())}),m(8," \u5206\u4EAB\u6B64\u9801\u9762 "),l()()}if(n&2){let e=c();a(3),g("background-color",e.theme==null?null:e.theme.buttonBg)("color",e.theme==null?null:e.theme.buttonText),a(4),g("background-color",e.theme==null?null:e.theme.buttonBg)("color",e.theme==null?null:e.theme.buttonText)}}function ue(n,t){if(n&1&&(s(0,"header",2)(1,"h2",3),x(2,ae,1,1),l()(),s(3,"main",4),x(4,se,1,2,"img",5),s(5,"div",6),D(6,le,2,8,"p",7,G),l(),x(8,pe,3,0,"div",8)(9,ye,1,1),l(),s(10,"footer",9),x(11,ge,9,8,"div",10),l()),n&2){let e=t;a(),g("color",e.theme==null?null:e.theme.titleColor),a(),f(e.title?2:-1),a(2),f(e.imgSrc?4:-1),a(),L(e.contentStyle||""),a(),R(e.content),a(2),f(e.options!=null&&e.options.length?8:9),a(3),f(e.type==="ending"?11:-1)}}function de(n,t){n&1&&(s(0,"div",1),m(1,"\u8F09\u5165\u4E2D\u2026"),l())}var ee=class n{route=y(Q);router=y(X);game=y(E);player=y(B);routeId=Z(this.route.paramMap.pipe(K(t=>t.get("id")??"start")),{initialValue:"start"});node=this.game.currentNode;constructor(){O(()=>this.game.goTo(this.routeId()))}choose(t){this.game.choose(t);let e=this.game.currentNode()?.id;e?this.router.navigate(["/play",e]):console.warn("\u672A\u53D6\u5F97\u4E0B\u4E00\u500B\u7BC0\u9EDE id\uFF0C\u4FDD\u6301\u5728\u76EE\u524D\u9801\u9762")}onPick(t,e){this.player.addScore((t??0)+1),this.game.choose(e);let i=this.game.currentNode()?.id;i?this.router.navigate(["/play",i]):console.warn("\u672A\u53D6\u5F97\u4E0B\u4E00\u500B\u7BC0\u9EDE id\uFF0C\u4FDD\u6301\u5728\u76EE\u524D\u9801\u9762")}goCta(t){if(t?.next){if(t.next==="ending-good"){let e=this.player.getScore(),i=this.computeEnding(e);this.router.navigate(["/ending",i]),this.player.resetScore();return}this.router.navigate(["/play",t.next])}}computeEnding(t){return t>=18?"ending3":t>=13?"ending2":"ending1"}blockClass(t){return{"text-gray-700":!t.style||t.style==="narration","text-red-700":t.style==="you","text-blue-700":t.style==="friend","text-gray-600":t.style==="system","text-amber-700":t.style==="warning","text-lg font-semibold":t.type==="subtitle","whitespace-pre-line":!0}}learnMore(){window.open("https://lets-talk-u-equals-u.example.com","_blank")}sharePage(){return P(this,null,function*(){if(navigator.share)try{yield navigator.share({title:"\u904A\u6232\u540D\u7A31",text:"\u6211\u525B\u525B\u5B8C\u6210\u4E86\u904A\u6232\uFF0C\u4F60\u4E5F\u4F86\u6311\u6230\u770B\u770B\uFF01",url:window.location.href})}catch(t){console.warn("\u4F7F\u7528\u8005\u53D6\u6D88\u5206\u4EAB\u6216\u767C\u751F\u932F\u8AA4",t)}else yield navigator.clipboard.writeText(window.location.href),alert("\u9023\u7D50\u5DF2\u8907\u88FD\uFF01\u5FEB\u53BB\u5206\u4EAB\u5427")})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-game-scene"]],decls:3,vars:3,consts:[[1,"min-h-screen","flex","flex-col","px-4","py-6","sm:px-6","md:px-10","relative"],[1,"flex-1","flex","items-center","justify-center",2,"color","#888"],[1,"text-center","mb-4","h32"],[1,"text-xl","md:text-2xl","font-bold"],[1,"flex-1","flex","flex-col","items-center","text-center"],["width","224","height","224","priority","",1,"w-56","h-56","object-cover","rounded","mb-4",3,"ngSrc","alt"],[1,"max-w-md","w-full","space-y-3","mb-6","overflow-auto"],[3,"ngClass","text-left","text-right","color"],[1,"w-full","max-w-md","space-y-3"],[1,"text-center","mt-10","text-xs"],[1,"space-y-3"],[3,"ngClass"],["type","button",1,"w-full","py-3","px-6","rounded-xl","shadow",3,"background-color","color"],["type","button",1,"w-full","py-3","px-6","rounded-xl","shadow",3,"click"],[1,"w-full","max-w-md"],[1,"w-full","py-3","px-6","rounded-xl","shadow",3,"click"]],template:function(e,i){if(e&1&&(s(0,"div",0),x(1,ue,12,8)(2,de,2,0,"div",1),l()),e&2){let o,r;g("background-color",(o=i.node())==null||o.theme==null?null:o.theme.bg),a(),f((r=i.node())?1:2,r)}},dependencies:[z,W,Y,J],styles:[".h32[_ngcontent-%COMP%]{min-height:32px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#d9d9d966;border-radius:4px}"]})};export{ee as GameScene};
